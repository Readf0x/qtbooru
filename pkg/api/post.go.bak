package api

import (
	"net/url"
	"time"
)

type Post struct {
	Id           int
	CreationTime time.Time
	UpdateTime   time.Time
	File         File
	Preview      FilePreview
	Sample       FileSample
	Score        Score
	Tags         TagList
	LockedTags   *[]string
	ChangeSeq    int
	Flags        Flags
	Rating       Rating
	FavCount     int
	Sources      []string
	Pools        *[]int
}

type Extension int
const (
	JPEG Extension = iota
	PNG
	GIF
	WEBM
)
var ExtensionString = map[Extension]string{
	JPEG: "jpg",
	PNG:  "png",
	GIF:  "gif",
	WEBM: "webm",
}
func (e Extension) String() string {
	return ExtensionString[e]
}

type File struct {
	Width  int
	Height int
	Type   Extension
	Size   int64
	Md5    [16]byte
	Url    url.URL
}

type FileSample struct {
	Width      int
	Height     int
	Type       Extension
	Alternates Alternates
}

type Alternates struct {
	Has      bool
	Original PostSampleAlternate
	Variants PostSampleAlternate
	Samples  PostSampleAlternate
}

type PostSampleAlternate struct {
	Fps    float64
	Codec  string
	Size   int64
	Width  int
	Height int
	Url    url.URL
}

type Score struct {
	Up   int
	Down int
	Sum  int
}

type TagList struct {
	General     *[]string
	Artist      *[]string
	Contributor *[]string
	Copyright   *[]string
	Character   *[]string
	Species     *[]string
	Invalid     *[]string
	Meta        *[]string
	Lore        *[]string
}

